{{ define "osobe/index.html" }}
{{ template "layouts/base" . }}
{{ end }}

{{ define "osobe/content" }}
<section class="page-title">
    <div>
        <h1>Osobe</h1>
        <p>Evidencija roditelja, kumova i ostalih osoba povezanih sa krstenjem.</p>
    </div>
    <div class="actions">
        <form class="inline-filter"
              hx-get="/ui/osobe/table"
              hx-target="#osobe-table"
              hx-trigger="submit"
              hx-swap="outerHTML">
            <input type="hidden" name="page_number" value="1">
            <input type="hidden" name="page_size" value="10">
            <input type="search" name="last_name" placeholder="Trazi po delu prezimena" aria-label="Trazi po delu prezimena">
            <button type="submit" class="secondary">Pretrazi</button>
        </form>
        <button class="primary"
            type="button"
            hx-get="/ui/osobe/new"
            hx-target="#dialog-root"
            hx-trigger="click"
            hx-swap="innerHTML"
            hx-include="#osobe-state, #osobe-default-state">
            Nova osoba
        </button>
    </div>
</section>

<form id="osobe-default-state" hidden>
    <input type="hidden" name="page_number" value="1">
    <input type="hidden" name="page_size" value="10">
</form>

<section>
    <div id="osobe-table"
         hx-get="/ui/osobe/table"
         hx-trigger="load, refresh-osobe-table from:body"
         hx-target="this"
         hx-include="#osobe-state, #osobe-default-state"
         hx-swap="outerHTML">
        <div class="htmx-indicator">Ucitavanje...</div>
    </div>
</section>
<div id="dialog-root"></div>
{{ end }}
