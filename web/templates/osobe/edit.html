{{ define "osobe/edit.html" }}
<dialog open class="modal">
    <article>
        <header>
            <h2>Измени особу</h2>
        </header>
        <form
            hx-put="/ui/osobe/{{ .Osoba.ID }}"
            hx-target="#dialog-root"
            hx-swap="innerHTML"
            hx-include="#osobe-state, #osobe-default-state"
            hx-on::after-request="if(event.detail.successful){if(window.refreshOsobeTable){window.refreshOsobeTable();}var root=document.getElementById('dialog-root');if(root){root.innerHTML='';}}"
        >
            {{ if .Error }}
            <article class="secondary" style="padding: 0.75rem;">
                <strong>{{ .Error }}</strong>
            </article>
            {{ end }}
            <section>
                <div class="form-grid">
                    <label>Име
                        <input name="first_name" value="{{ .Osoba.FirstName }}" required>
                    </label>
                    <label>Презиме
                        <input name="last_name" value="{{ .Osoba.LastName }}" required>
                    </label>
                    <label>Скраћено име
                        <input name="brief_name" value="{{ .Osoba.BriefName }}">
                    </label>
                    <label>Улога
                        <select name="role" required>
                            <option value="">Одабери улогу</option>
                            <option value="mother" {{ if eq .Osoba.Role "mother" }}selected{{ end }}>Мајка</option>
                            <option value="father" {{ if eq .Osoba.Role "father" }}selected{{ end }}>Отац</option>
                            <option value="godfather" {{ if eq .Osoba.Role "godfather" }}selected{{ end }}>Кум</option>
                            <option value="paroh" {{ if eq .Osoba.Role "paroh" }}selected{{ end }}>Парох</option>
                        </select>
                    </label>
                    <label>Занимање
                        <input name="occupation" value="{{ .Osoba.Occupation }}">
                    </label>
                    <label>Вера
                        <input name="religion" value="{{ .Osoba.Religion }}">
                    </label>
                    <label>Адреса
                        <input name="address" value="{{ .Osoba.Address }}">
                    </label>
                    <div class="form-field-connector" aria-hidden="true">из</div>
                    <label>Град
                        <input name="city" value="{{ .Osoba.City }}">
                    </label>
                    <label>Држава
                        <input name="country" value="{{ .Osoba.Country }}">
                    </label>
                    <label>Датум рођења
                        <div class="date-input-control" data-date-kind="date">
                            <button type="button" class="date-input-icon" data-open-date-picker aria-label="Одабери датум">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                                    <rect x="3.5" y="4.5" width="17" height="16" rx="2.5"/>
                                    <path d="M8 3v3M16 3v3M3.5 10.5h17"/>
                                </svg>
                            </button>
                            <input
                                type="text"
                                name="birth_date"
                                value="{{ if not (.Osoba.BirthDate.IsZero) }}{{ .Osoba.BirthDate.Format "2006/01/02" }}{{ end }}"
                                data-date-display
                                placeholder="нпр. 1990/04/15"
                                inputmode="numeric"
                                autocomplete="off"
                            >
                            <input
                                type="date"
                                class="native-date-input"
                                data-native-picker
                                value="{{ if not (.Osoba.BirthDate.IsZero) }}{{ .Osoba.BirthDate.Format "2006-01-02" }}{{ end }}"
                                tabindex="-1"
                                aria-hidden="true"
                            >
                        </div>
                        <small class="date-input-hint">Формат: YYYY/MM/DD</small>
                    </label>
                    <label>Статус
                        <select name="status">
                            <option value="">Одабери статус</option>
                            <option value="active" {{ if eq .Osoba.Status "active" }}selected{{ end }}>Активна</option>
                            <option value="inactive" {{ if eq .Osoba.Status "inactive" }}selected{{ end }}>Неактивна</option>
                        </select>
                    </label>
                </div>
            </section>
            <footer>
                <button type="submit" class="primary">Сачувај</button>
                <button type="button" class="secondary" data-close-dialog>Одустани</button>
            </footer>
        </form>
    </article>
</dialog>
{{ end }}
