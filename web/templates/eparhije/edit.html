{{ define "eparhije/edit.html" }}
<dialog open class="modal">
    <article>
        <header>
            <h2>Измени епархију</h2>
        </header>
        <form
            hx-put="/ui/eparhije/{{ .Eparhija.ID }}"
            hx-target="#dialog-root"
            hx-swap="innerHTML"
            hx-include="#eparhije-state, #eparhije-default-state"
            hx-on::after-request="if(event.detail.successful){if(window.refreshEparhijeTable){window.refreshEparhijeTable();}var root=document.getElementById('dialog-root');if(root){root.innerHTML='';}}"
        >
            {{ if .Error }}
            <article class="secondary" style="padding: 0.75rem;">
                <strong>{{ .Error }}</strong>
            </article>
            {{ end }}
            <section class="form-card">
                <div class="form-stack">
                    <div class="field-row">
                        <div class="form-field">
                            <label for="eparhije-edit-name">Назив епархије</label>
                            <input
                                id="eparhije-edit-name"
                                name="name"
                                value="{{ .Eparhija.Name }}"
                                placeholder="нпр. Шабачка епархија"
                                required
                            >
                        </div>
                        <div class="form-field">
                            <label for="eparhije-edit-city">Град</label>
                            <input
                                id="eparhije-edit-city"
                                name="city"
                                value="{{ .Eparhija.City }}"
                                placeholder="нпр. Шабац"
                            >
                        </div>
                    </div>
                    <div class="field-row">
                        <div class="form-field">
                            <label for="eparhije-edit-status">Статус</label>
                            <select id="eparhije-edit-status" name="status">
                                <option value="">Одабери статус</option>
                                <option value="active" {{ if eq .Eparhija.Status "active" }}selected{{ end }}>Активна</option>
                                <option value="inactive" {{ if eq .Eparhija.Status "inactive" }}selected{{ end }}>Неактивна</option>
                            </select>
                        </div>
                    </div>
                </div>
            </section>
            <footer>
                <button type="submit" class="primary">Сачувај</button>
                <button type="button" class="secondary" data-close-dialog>Одустани</button>
            </footer>
        </form>
    </article>
</dialog>
{{ end }}
